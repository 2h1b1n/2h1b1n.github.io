(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54231e81"],{4229:function(t,a,s){},afe0:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"catalogue"},[s("van-row",{staticClass:"topsearchNav"},[s("van-col",{attrs:{span:"3"},on:{click:function(a){return t.$router.go(-1)}}},[s("span",{staticClass:"iconfont icon-fanhui2"})]),s("van-col",{attrs:{span:"18"}},[s("span",{staticClass:"t"},[t._v("目录")])]),s("van-col",{staticClass:"clearfix",attrs:{span:"3"}},[s("van-icon",{staticClass:"home-t",attrs:{name:"wap-home"},on:{click:function(a){return t.$router.push("/main/bookcity")}}})],1)],1),s("div",{staticClass:"chapter-detail"},[s("div",{staticClass:"chapter-header"},[s("div",{staticClass:"chapter-header-1"},[s("h3",{staticClass:"chapter-title"},[t._v("目录")]),s("span",{staticClass:"chapter-title-desc"},[t._v("共"+t._s(t.allcount)+"章")])])]),s("van-list",{staticClass:"chapter-l",attrs:{finished:t.loadOptions.isFinished,"finished-text":t.loadOptions.finishedText},on:{load:t.loadData},model:{value:t.loadOptions.isLoading,callback:function(a){t.$set(t.loadOptions,"isLoading",a)},expression:"loadOptions.isLoading"}},[s("ul",{staticClass:"chapter-list"},t._l(t.chapterListDatas,(function(a,i){return s("li",{key:i,on:{click:function(s){return t.goReading(a.link,i,t.title)}}},[s("div",[t._v(t._s(a.title))])])})),0)])],1)],1)},e=[],n=(s("ea69"),s("5748")),o=(s("4229"),{data:function(){return{allChapterDatas:{},chapterListDatas:{},chapter_id:"",loadOptions:{isLoading:!0,isFinished:!1,isFinishedText:"没有数据可加载了"},loadCount:15,current:"",allcount:"",title:""}},created:function(){this.getChapterDatas()},methods:{getChapterDatas:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"http://novel.kele8.cn/book-sources?view=summary&book="+this.$route.query.id}).then((function(a){t.$toast.clear(),200==a.status&&(t.chapter_id=a.data[0]._id,t.axios({method:"GET",url:"http://novel.kele8.cn/book-chapters/"+t.chapter_id}).then((function(a){200==a.status&&(t.allcount=a.data.chapters.length,t.allChapterDatas=a.data.chapters,t.chapterListDatas=t.allChapterDatas.splice(0,t.loadCount),t.allChapterDatas.length>0?t.loadOptions.isLoading=!1:(t.loadOptions.isLoading=!0,t.loadOptions.isFinished=!0),0==t.chapterListDatas.length&&(t.loadOptions.isFinishedText=""))})).catch((function(a){t.$toast.clear()})))})).catch((function(a){t.$toast.clear()}))},loadData:function(){var t=this;setTimeout((function(){var a;(a=t.chapterListDatas).push.apply(a,Object(n["a"])(t.allChapterDatas.splice(0,t.loadCount))),t.loadOptions.isLoading=!1,0==t.allChapterDatas.length&&(t.loadOptions.isLoading=!0,t.loadOptions.isFinished=!0)}),1e3)},goReading:function(t,a,s){this.current=a,this.$router.push({name:"Reading",query:{link:t,id:this.$route.query.id,index:this.current,title:this.$route.query.title}})}}}),l=o,c=s("9ca4"),r=Object(c["a"])(l,i,e,!1,null,"302252f1",null);a["default"]=r.exports}}]);