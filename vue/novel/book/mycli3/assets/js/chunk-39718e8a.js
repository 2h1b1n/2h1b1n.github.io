(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39718e8a"],{"064b":function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"08ba":function(t,a,e){var n=e("d890"),i=e("064b"),s=e("3c10"),r=e("0fc1");for(var c in i){var o=n[c],l=o&&o.prototype;if(l&&l.forEach!==s)try{r(l,"forEach",s)}catch(u){l.forEach=s}}},"0c1f":function(t,a,e){},"1ca1":function(t,a,e){var n=e("a719"),i=e("74e7"),s=e("90fb"),r=s("species");t.exports=function(t,a){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)?n(e)&&(e=e[r],null===e&&(e=void 0)):e=void 0),new(void 0===e?Array:e)(0===a?0:a)}},"3c10":function(t,a,e){"use strict";var n=e("5dfd").forEach,i=e("d7e1"),s=e("ff9c"),r=i("forEach"),c=s("forEach");t.exports=r&&c?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},4320:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ranking"},[e("div",{staticClass:"topsearchNav"},[e("van-row",[e("van-col",{attrs:{span:"3"},on:{click:function(a){return t.$router.go(-1)}}},[e("span",{staticClass:"iconfont icon-fanhui2"})]),e("van-col",{attrs:{span:"18"}},[e("span",{staticClass:"t"},[t._v("排行榜")])]),e("van-col",{staticClass:"clearfix",attrs:{span:"3"}},[e("van-icon",{staticClass:"home-t",attrs:{name:"wap-home"},on:{click:function(a){return t.$router.push("/main/bookcity")}}})],1)],1)],1),e("div",{staticClass:"page-ranking-wrapper"},[e("van-tabs",{staticClass:"v-tabs",on:{click:t.toggleBookList}},t._l(t.rankingList,(function(a,n){return e("van-tab",{key:n,staticClass:"v-tab",attrs:{title:a.title}},[e("div",{staticClass:"ranking-list"},[e("div",{staticClass:"left-nav fl"},t._l(t.typeData[a.enname],(function(a,n){return e("div",{key:n,ref:"inner"+n,refInFor:!0,staticClass:"inner-left",class:{current:n==t.currentIndex?"current":""},on:{click:function(e){return t.toggleAsideNav(a,n)}}},[t._v(t._s(a.shortTitle))])})),0),e("div",{staticClass:"right-content fl clearfix"},t._l(t.rankBookData,(function(a,n){return e("div",{key:n,staticClass:"book-list clearfix",on:{click:function(e){return t.goDetail(a._id)}}},[e("div",{staticClass:"cover fl"},[e("img",{staticClass:"auto-img",attrs:{src:a.cover,alt:""}})]),e("div",{staticClass:"right-t fr"},[e("h4",{staticClass:"name"},[e("span",[t._v(t._s(n+1)+"."+t._s(a.title))])]),e("p",{staticClass:"desc"},[t._v(t._s(a.shortIntro))]),e("p",{staticClass:"sku clearfix"},[e("span",{staticClass:"author fl"},[e("i",[t._v(t._s(a.author))])]),e("span",{staticClass:"tag fr"},[e("i",[t._v(t._s(a.majorCate))])])])])])})),0)])])})),1)],1)])},i=[],s=(e("fe59"),e("77ad"),e("08ba"),e("0c1f"),e("9f3a")),r=Object(s["a"])("bookModule"),c=(r.mapState,r.mapMutations,{data:function(){return{rankingList:[{title:"女频",enname:"female",isActive:!0},{title:"出版",enname:"epub",isActive:!1},{title:"男频",enname:"male",isActive:!1}],typeData:{},top:0,rankNameList:{},rank_id:"",rank_index:0,type_id:0,rankBookData:[],currentIndex:0}},created:function(){this.getTypeData()},methods:{getTypeData:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"http://novel.kele8.cn/rank-category"}).then((function(a){if(t.$toast.clear(),200==a.status){t.typeData=a.data;var e=t.rankingList[t.type_id].enname;t.rank_id=t.typeData[e][t.rank_index]._id,t.axios({method:"GET",url:"http://novel.kele8.cn/rank/"+t.rank_id}).then((function(a){t.$toast.clear(),200==a.status&&(t.rankBookData=a.data.ranking.books),t.rankBookData.forEach((function(t){t.cover=unescape(t.cover).slice(7)}))})).catch((function(a){t.$toast.clear()}))}})).catch((function(a){t.$toast.clear()}))},toggleBookList:function(t){this.type_id=t,this.rank_index=0,this.currentIndex=0,this.getTypeData()},toggleAsideNav:function(t,a){this.currentIndex=a,this.rank_index=a,this.getTypeData()},goDetail:function(t){this.$router.push({name:"Detail",query:{id:t}})}},computed:{}}),o=c,l=e("9ca4"),u=Object(l["a"])(o,n,i,!1,null,"299fdbac",null);a["default"]=u.exports},"5dfd":function(t,a,e){var n=e("e349"),i=e("692f"),s=e("3553"),r=e("d88d"),c=e("1ca1"),o=[].push,l=function(t){var a=1==t,e=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f;return function(v,h,p,k){for(var g,m,L=s(v),C=i(L),y=n(h,p,3),_=r(C.length),x=0,b=k||c,S=a?b(v,_):e?b(v,0):void 0;_>x;x++)if((d||x in C)&&(g=C[x],m=y(g,x,L),t))if(a)S[x]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:o.call(S,g)}else if(u)return!1;return f?-1:l||u?u:S}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},d7e1:function(t,a,e){"use strict";var n=e("efe2");t.exports=function(t,a){var e=[][t];return!!e&&n((function(){e.call(null,a||function(){throw 1},1)}))}},fe59:function(t,a,e){"use strict";var n=e("1c8b"),i=e("3c10");n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})}}]);